<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>原神版本预测（自用）</title>
    <script src="https://lib.baomitu.com/vue/2.6.14/vue.js"></script>
    <script src="https://momentjs.bootcss.com/downloads/moment.min.js"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
      }
      ul {
        list-style: none;
      }
      a {
        text-decoration: none;
      }
      .row {
        display: flex;
        justify-content: space-between;
        padding: 6px;
        align-items: center;
        border-bottom: 1px solid #c1c1c1;
        font-size: 14px;
      }
      .row:nth-child(even) {
        background-color: #f5f5f5;
      }
    </style>
  </head>
  <body>
    <div id="app">
      <div class="box">
        <div v-for="(ele,index) in date" :key="index" class="row">
          <span>版本：<br />{{ele.version}}</span>
          <span>开始时间：<br />{{ele.startDate}}</span>
          <span>结束时间：<br />{{ele.endDate}}</span>
          <span>前瞻时间：<br />{{ele.qianzhan}}</span>
          <span>此版本新角色预告时间：<br />{{ele.newGal}}</span>
        </div>
      </div>
    </div>
    <script>
      var versionData = ['2021-8-30'];
      var arr = [];
      var v = 0;
      var v1 = 0;
      for (var i = 0; i <= 40; i++) {
        if (v1 % 10 === 0) {
          v++;
          v1 = 0;
        }
        for (var item of versionData) {
          if (
            moment('2020-9-30')
              .add(6 * (i + 1), 'w')
              .isAfter(item) &&
            moment('2020-9-30')
              .add(6 * i, 'w')
              .isBefore(item)
          ) {
            v++;
            v1 = 0;
          }
          arr.push({
            version: `${v}.${parseInt(v1 % 10)}`,
            startDate: moment('2020-9-30')
              .add(6 * i, 'w')
              .format('YYYY-MM-DD'),
            endDate: moment('2020-9-30')
              .add(6 * (i + 1), 'w')
              .format('YYYY-MM-DD'),
            qianzhan: moment('2020-9-30')
              .add(6 * i, 'w')
              .subtract(12, 'd')
              .format('YYYY-MM-DD'),
            newGal: moment('2020-9-30')
              .add(6 * (i-1), 'w')
              .subtract(5, 'd')
              .format('YYYY-MM-DD'),
          });
          v1++;
        }
      }
      new Vue({
        el: '#app',
        data() {
          return {
            date: arr,
          };
        },
      });
    </script>
  </body>
</html>
